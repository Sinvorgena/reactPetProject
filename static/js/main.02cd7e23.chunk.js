(this["webpackJsonpreact-prosto"]=this["webpackJsonpreact-prosto"]||[]).push([[0],{10:function(e,t,a){e.exports={UsersField:"Users_UsersField__27Zu0",UsersPage:"Users_UsersPage__3OQ66",paginnatorBox:"Users_paginnatorBox__2jjgt",goLeftPage:"Users_goLeftPage__2OAa-",pagesBox:"Users_pagesBox__11U5X",goRigthPage:"Users_goRigthPage__1m3iO",OneToLeft:"Users_OneToLeft__16ijn",OneToRigth:"Users_OneToRigth__3clHe",MaxToRigth:"Users_MaxToRigth__3MILi",MaxToLeft:"Users_MaxToLeft__1LZBQ",avatar:"Users_avatar__3EJq4",item:"Users_item__3Xip_",ToogleFollowBtn:"Users_ToogleFollowBtn__Orjfn",userInfo:"Users_userInfo__1aeW7",fullname:"Users_fullname__1iTmp",status:"Users_status__1ogln",country:"Users_country__f_qnb",city:"Users_city__1nfSS",unfollow:"Users_unfollow__1OKAs",follow:"Users_follow__2LaOb"}},101:function(e,t,a){e.exports={preLoaders:"Preloader_preLoaders__2yVre",preLoaderBackground:"Preloader_preLoaderBackground__2CiDq"}},140:function(e,t,a){e.exports={content:"MainScreen_content__3R9yL"}},141:function(e,t,a){e.exports={wall:"PostWall_wall__Z3XCx"}},142:function(e,t,a){e.exports={content:"posts_content__1oCMj"}},143:function(e,t,a){e.exports={content:"Profile_content__3IHb-"}},144:function(e,t,a){e.exports={avatar:"ChangeAvatar_avatar__2C2jQ"}},20:function(e,t,a){e.exports={nav:"sideBar_nav__2NNjn",active:"sideBar_active__3dePx",box:"sideBar_box__3LbOU"}},252:function(e,t,a){},27:function(e,t,a){e.exports={content:"UserInfo_content__1fMxN",name:"UserInfo_name__3ulCr",status:"UserInfo_status__ymOn7",info:"UserInfo_info__1PoaC"}},296:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,297)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))},s=a(8),r=a(47),o=a(24),c=a(3),i=a(136).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"818b16ba-6497-42b1-8359-46d83b14e351"},withCredentials:!0}),u={getAuthMe:function(){return i.get("auth/me").then((function(e){return e.data}))},logIn:function(e,t){return i.post("auth/login",{email:e,password:t})},logOut:function(){return i.delete("auth/login")}},l={getUsers:function(e,t){return i.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},getFollowingUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i.get("users?count=".concat(e,"&page=").concat(t,"&friend=true")).then((function(e){return e.data}))}},d={getUserProfile:function(e){return i.get("profile/".concat(e)).then((function(e){return e.data}))},getUserProfileStatus:function(e){return i.get("profile/status/".concat(e)).then((function(e){return e.data}))},setUserProfileStatus:function(e){return i.put("profile/status",{status:e}).then((function(e){return e.data}))}},j={followUser:function(e){return i.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return i.delete("follow/".concat(e)).then((function(e){return e.data}))}},b="ADD-POST",f="NEXT-AVATAR",h="PREV-AVATAR",g="ADD-AVATAR",O="TOOGLE_IS_WATCHING_ANOTHER_USER_NOW",m="SET_ANOTHERS_USER_INFO",p="SET_MAIN_USER_INFO",x="GET_USER_PROFILE_STATUS_SUCSESS",v={userInfoDate:[{name:"",birthdate:"",city:"",education:"",webSite:"",status:""}],anothersUserInfo:[{isWatchNow:!1,fullName:"",aboutMe:"",photos:{large:"",small:""},status:""}],postMessageData:[{id:1,message:"Hi, how are you?",likeCounter:"20",user:"vlad"},{id:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0442\u044b?",likeCounter:"15",user:"vlad"},{id:3,message:"\u041fgdgdfgdf?",likeCounter:"12",user:"vlad"}],avatarUrlData:[{id:1,url:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0OKqoPKtc6zG0u7pS8C3klRQ-7n0KLvYTaQ&usqp=CAU"},{id:2,url:"https://html5css.ru/css/img_lights.jpg"},{id:3,url:"https://external-preview.redd.it/wl_OMEWEzDWAyDGU8-k469mI89a0HvNryasEQHxfceQ.jpg?auto=webp&s=f739d6643f9a51389369f9bdd248443f7bca68ab"}],mainAvatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0OKqoPKtc6zG0u7pS8C3klRQ-7n0KLvYTaQ&usqp=CAU"},_=function(e){return{type:O,isWatchNow:e}},U=function(e){return{type:x,UserTextStatus:e}},N=function(e){return function(t){e&&d.getUserProfileStatus(e).then((function(e){t(U(e))}))}};window.ProfileDefaulState=v;var I="ADD-MESSAGE",w={messageData:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442",avatar:"http://petszona.ru/wp-content/uploads/2018/06/karby-sh.jpg"},{id:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442",avatar:"https://cdnimg.rg.ru/img/content/187/94/47/iStock-644032024_d_850.jpg"},{id:1,message:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?",avatar:"http://petszona.ru/wp-content/uploads/2018/06/karby-sh.jpg"},{id:2,message:"\u041a\u0440\u0443\u0442\u0430, \u0430 \u0443 \u0442\u0435\u0431\u044f?",avatar:"https://cdnimg.rg.ru/img/content/187/94/47/iStock-644032024_d_850.jpg"},{id:2,message:"\u041a\u0440\u0443\u0442\u0430, \u0430 \u0443 \u0442\u0435\u0431\u044f?",avatar:"https://cdnimg.rg.ru/img/content/187/94/47/iStock-644032024_d_850.jpg"}],dialogsData:[{id:1,name:"Vladimir"},{id:2,name:"Denis"},{id:3,name:"Vlad"},{id:4,name:"Anya"},{id:5,name:"Zina"}]},P={},D="FOLLOW",y="UNFOLLOW",S="SET_USERS",A="SET_TOTAL_USERS_COUNT",F="SET_CURRENT_PAGE",C="TOOGLE_IS_LOADING",L="TOOGLE_IS_FOLLOWING_IN_PROGRESS_USER",T="SET_FRIEND_DATA",M={totalUsersCount:0,currentPage:1,numberOfUsersOnPage:5,isLoading:!1,isFollowingInProgress:null,usersInProgressFollowing:[],usersData:[],followingUsersData:[]},B=function(e){return{type:C,isLoading:e}},k=function(e,t){return{type:L,isFollowingInProgress:e,userId:t}},E=function(e){return{type:T,data:e}},R=function(){return function(e){l.getFollowingUsers().then((function(t){console.log(t),e(E(t.items))}))}};window.UsersDefaulState=M;var W=a(37),H="SET_AUTH_USER_DATA",G="SET_ANOTHER_USER_ID",V={login:null,mainUserId:null,email:null,isAuth:!1,anotherUserId:null},z=function(e,t,a,n){return{type:H,userAuthdata:{login:e,mainUserId:a,email:t,isAuth:n}}},q=function(){return function(e){return u.getAuthMe().then((function(t){0===t.resultCode&&(d.getUserProfile(t.data.id).then((function(a){d.getUserProfileStatus(t.data.id).then((function(t){var n;e((n=Object(c.a)(Object(c.a)({},a),{},{responseStatus:t}),{type:p,mainUserInfo:n}))}))})),e(z(t.data.login,t.data.email,t.data.id,!0)))}))}};window.authDefaulState=V;var K=a(137),Q=a(135),Z="SET_INITIALIZIED",X={initialized:!1};window.appDefaulState=X;var J=Object(s.c)({Profile:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:var n={message:a.text,likeCounter:5,user:"vlad"};return e=Object(c.a)(Object(c.a)({},t),{},{postMessageData:[].concat(Object(o.a)(t.postMessageData),[n])});case f:e=Object(c.a)(Object(c.a)({},t),{},{avatarUrlData:Object(o.a)(t.avatarUrlData)});var s,i=Object(r.a)(e.avatarUrlData);try{for(i.s();!(s=i.n()).done;){var u=s.value;a.avatarUrl===u.url&&e.avatarUrlData[u.id]&&(e.mainAvatar=e.avatarUrlData[u.id].url)}}catch(U){i.e(U)}finally{i.f()}return e;case h:e=Object(c.a)(Object(c.a)({},t),{},{avatarUrlData:Object(o.a)(t.avatarUrlData)});var l,d=Object(r.a)(e.avatarUrlData);try{for(d.s();!(l=d.n()).done;){var j=l.value;a.avatarUrl===j.url&&e.avatarUrlData[j.id-2]&&(e.mainAvatar=e.avatarUrlData[j.id-2].url)}}catch(U){d.e(U)}finally{d.f()}return e;case g:if(e=Object(c.a)(Object(c.a)({},t),{},{avatarUrlData:Object(o.a)(t.avatarUrlData)}),a.avatarUrl){var _={id:e.avatarUrlData[e.avatarUrlData.length-1].id+1,url:a.avatarUrl};e.mainAvatar=_.url,e.avatarUrlData.push(_)}return e;case O:return(e=Object(c.a)({},t)).anothersUserInfo[0].isWatchNow=a.isWatchNow,e;case p:return(e=Object(c.a)({},t)).userInfoDate[0].name=a.mainUserInfo.fullName,e.userInfoDate[0].aboutMe=a.mainUserInfo.aboutMe,e.userInfoDate[0].status=a.mainUserInfo.responseStatus,e;case m:return(e=Object(c.a)({},t)).anothersUserInfo[0].fullName=a.anothersUserInfo.fullName,e.anothersUserInfo[0].aboutMe=a.anothersUserInfo.aboutMe,e.anothersUserInfo[0].photos.small=a.anothersUserInfo.photos.small,e.anothersUserInfo[0].status=a.anothersUserInfo.status,e;case x:return(e=Object(c.a)({},t)).userInfoDate[0].status=a.UserTextStatus,e}return t},Dialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var a={message:t.text,avatar:"https://cdnimg.rg.ru/img/content/187/94/47/iStock-644032024_d_850.jpg"};return Object(c.a)(Object(c.a)({},e),{},{messageData:[].concat(Object(o.a)(e.messageData),[a])})}return e},sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return e},Users:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(console.log(a),a.type){case D:e=Object(c.a)(Object(c.a)({},t),{},{usersData:Object(o.a)(t.usersData)});var n,s=Object(r.a)(e.usersData);try{for(s.s();!(n=s.n()).done;){var i=n.value;a.userId===i.id&&(i.followed=!0)}}catch(j){s.e(j)}finally{s.f()}return e;case y:e=Object(c.a)(Object(c.a)({},t),{},{usersData:Object(o.a)(t.usersData)});var u,l=Object(r.a)(e.usersData);try{for(l.s();!(u=l.n()).done;){var d=u.value;a.userId===d.id&&(d.followed=!1)}}catch(j){l.e(j)}finally{l.f()}return e;case S:return e=Object(c.a)(Object(c.a)({},t),{},{usersData:Object(o.a)(a.users)});case A:return e=Object(c.a)(Object(c.a)({},t),{},{totalUsersCount:a.count});case F:return e=Object(c.a)(Object(c.a)({},t),{},{currentPage:a.currentPage});case C:return e=Object(c.a)(Object(c.a)({},t),{},{isLoading:a.isLoading});case L:return e=Object(c.a)(Object(c.a)({},t),{},{usersInProgressFollowing:a.isFollowingInProgress?[].concat(Object(o.a)(t.usersInProgressFollowing),[a.userId]):t.usersInProgressFollowing.filter((function(e){return e!=a.userId}))});case T:return e=Object(c.a)(Object(c.a)({},t),{},{followingUsersData:a.data}),console.log("setFriendData"),e;default:return t}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(c.a)(Object(c.a)({},e),t.userAuthdata);case G:return Object(c.a)(Object(c.a)({},e),{},{anotherUserId:t.userId});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(c.a)(Object(c.a)({},e),{},{initialized:!0});default:return e}},form:Q.a}),Y=Object(s.e)(J,Object(s.a)(K.a));window.store=Y;var $=Y,ee=a(70),te=a.n(ee),ae=a(1),ne=a.n(ae),se=a(12),re=a(14),oe=a(15),ce=a(17),ie=a(16),ue=(a(252),a(59)),le=a.n(ue),de=a(0),je=function(){return Object(de.jsxs)("div",{className:le.a.content,children:[Object(de.jsx)("div",{className:le.a.name,children:"Vladimir"}),Object(de.jsx)("div",{className:le.a.copyright,children:"Copyright"}),Object(de.jsx)("div",{className:le.a.pet,children:"Pet react project"})]})},be=a(13),fe=function(){return Object(de.jsx)("div",{children:"News"})},he=function(){return Object(de.jsx)("div",{children:"Music"})},ge=function(){return Object(de.jsx)("div",{})},Oe=a(7),me=a(73),pe=a.n(me),xe=a(74),ve=a.n(xe),_e=a(133),Ue=a(134),Ne=a(103),Ie=a(39),we=a.n(Ie),Pe=function(e){var t=e.input,a=e.meta,n=Object(Ne.a)(e,["input","meta"]);return Object(de.jsx)("div",{children:Object(de.jsxs)("div",{className:we.a.textFieldBox,children:[Object(de.jsx)("textarea",Object(c.a)(Object(c.a)(Object(c.a)({},t),n),{},{className:a.touched&&a.error?n.className+" "+we.a.error:n.className})),Object(de.jsx)("div",{children:a.touched?Object(de.jsx)("span",{children:a.error}):""})]})})},De=function(e){var t=e.input,a=e.meta,n=Object(Ne.a)(e,["input","meta"]);return Object(de.jsx)("div",{children:Object(de.jsxs)("div",{className:we.a.textFieldBox,children:[Object(de.jsx)("input",Object(c.a)(Object(c.a)(Object(c.a)({},t),n),{},{className:a.touched&&a.error?n.className+" "+we.a.error:n.className})),Object(de.jsx)("div",{children:a.touched?Object(de.jsx)("span",{children:a.error}):""})]})})},ye=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e)}},Se=function(e){if(!e)return"Field is required"},Ae=ye(10),Fe=Object(Ue.a)({form:"newMessage"})((function(e){return Object(de.jsxs)("form",{className:ve.a.newMessage,onSubmit:e.handleSubmit,children:[Object(de.jsx)(_e.a,{className:ve.a.textField,component:Pe,name:"newMessageField",id:"textFieldId",placeholder:"Write a message...",onInput:function(e){e.target.style.height="5px",e.target.style.height=e.target.scrollHeight+"px"},validate:[Se,Ae]}),Object(de.jsx)("button",{className:ve.a.sendNewMessage})]})})),Ce=function(e){return Object(de.jsx)(Fe,{onSubmit:function(t){e.addNewMessageValue(t.newMessageField)}})},Le=Object(Oe.b)((function(e){return{}}),(function(e){return{addNewMessageValue:function(t){e(function(e){return{type:I,text:e}}(t))}}}))(Ce),Te=function(e){return Object(de.jsxs)("div",{className:pe.a.content,children:[Object(de.jsx)("div",{className:pe.a.dialogsItem,children:e.dialogItemData}),Object(de.jsxs)("div",{className:pe.a.MessagesField,children:[e.MessagesFieldData,Object(de.jsx)(Le,{})]})]})},Me=a(60),Be=a.n(Me),ke=function(e){return Object(de.jsxs)(se.b,{className:Be.a.item,to:"/dialogs/".concat(e.id),children:[Object(de.jsx)("div",{className:Be.a.avatar}),Object(de.jsx)("div",{className:Be.a.name,children:e.name}),Object(de.jsx)("div",{className:"".concat(Be.a.status)})]})},Ee=a(61),Re=a.n(Ee),We=function(e){return Object(de.jsx)("div",{className:Re.a.content,children:Object(de.jsxs)("div",{className:Re.a.messageItem,children:[Object(de.jsx)("div",{className:Re.a.avatar,children:Object(de.jsx)("img",{src:e.img,alt:""})}),Object(de.jsx)("div",{className:Re.a.message,children:e.message})]})})},He=a(101),Ge=a.n(He),Ve=a.p+"static/media/829.20951e82.gif",ze=function(e){return Object(de.jsxs)("div",{className:Ge.a.preLoaders,children:[Object(de.jsx)("img",{src:Ve,alt:""}),Object(de.jsx)("div",{className:Ge.a.preLoaderBackground})]})},qe=a(140),Ke=a.n(qe),Qe=function(){return Object(de.jsx)("div",{className:Ke.a.content})},Ze=a(49),Xe=a.n(Ze),Je=ye(10),Ye=Object(Ue.a)({form:"newPost"})((function(e){return Object(de.jsxs)("form",{className:Xe.a.form,onSubmit:e.handleSubmit,children:[Object(de.jsx)("label",{htmlFor:"textFieldId",className:Xe.a.textFieldLabel,children:"My posts"}),Object(de.jsx)("div",{className:Xe.a.textField,children:Object(de.jsx)(_e.a,{className:Xe.a.textarea,placeholder:"your news...",name:"postText",id:"textFieldId",component:Pe,validate:[Se,Je]})}),Object(de.jsx)("button",{className:Xe.a.sendBtn,children:"Send"})]})})),$e=function(e){return Object(de.jsx)(Ye,Object(c.a)({onSubmit:function(t){e.addPost(t.postText)}},e))},et=a(76),tt=a.n(et),at=function(e){return Object(de.jsxs)("div",{className:tt.a.item,children:[Object(de.jsx)("div",{className:tt.a.avatar}),Object(de.jsxs)("div",{className:tt.a.text,children:[e.message,Object(de.jsxs)("div",{children:["Like ",e.like]})]})]})},nt=a(141),st=a.n(nt),rt=function(e){return Object(de.jsx)("div",{className:st.a.wall,children:e.postMessage})},ot=a(142),ct=a.n(ot),it=Object(Oe.b)((function(e){return{}}),(function(e){return{addPost:function(t){e(function(e){return{type:b,text:e}}(t))}}}))($e),ut=function(e){return e.app.initialized},lt=function(e){return e.auth.isAuth},dt=function(e){return e.auth.login},jt=function(e){return e.auth.mainUserId},bt=function(e){return e.Profile.anothersUserInfo[0].isWatchNow},ft=function(e){return e.Profile.anothersUserInfo[0].photos.small},ht=function(e){return e.Profile.anothersUserInfo},gt=function(e){return e.Profile.mainAvatar},Ot=function(e){return e.Profile.avatarUrlData},mt=function(e){return e.Profile.userInfoDate.status},pt=function(e){return e.Profile.anothersUserInfo},xt=function(e){return e.Profile.userInfoDate},vt=function(e){return e.Profile.postMessageData},_t=function(e){return e.Dialogs.dialogsData},Ut=function(e){return e.Dialogs.messageData},Nt=function(e){return e.Users.totalUsersCount},It=function(e){return e.Users.numberOfUsersOnPage},wt=function(e){return e.Users.currentPage},Pt=function(e){return e.Users.isLoading},Dt=function(e){return e.Users.isFollowingInProgress},yt=function(e){return e.Users.usersInProgressFollowing},St=Object(Oe.b)((function(e){return{postMessage:vt(e).map((function(e){return Object(de.jsx)(at,{message:e.message,like:e.likeCounter})}))}}),(function(e){return{}}))(rt),At=function(e){return Object(de.jsxs)("div",{className:ct.a.content,children:[Object(de.jsx)(it,{}),Object(de.jsx)(St,{})]})},Ft=a(143),Ct=a.n(Ft),Lt=a(30),Tt=a.n(Lt),Mt=a(27),Bt=a.n(Mt),kt=a(102),Et=Object(s.d)(Object(Oe.b)((function(e){return{isWatchNow:e.Profile.anothersUserInfo[0].isWatchNow,mainUserId:e.auth.mainUserId,mainStatus:e.Profile.userInfoDate[0].status,anotherUserStatus:e.Profile.anothersUserInfo[0].status}}),{getUserProfileStatus:N,setUserProfileStatus:function(e){return function(t){d.setUserProfileStatus(e).then((function(a){t(U(e))}))}}}),be.f)((function(e){var t=Object(ae.useState)(!1),a=Object(kt.a)(t,2),n=a[0],s=a[1],r=Object(ae.useState)(e.mainStatus),o=Object(kt.a)(r,2),c=o[0],i=o[1];Object(ae.useEffect)((function(){i(e.mainStatus)}),[e.mainStatus]);return Object(de.jsxs)("div",{className:Bt.a.statusBox,children:[!n&&Object(de.jsx)("div",{children:Object(de.jsx)("span",{onClick:function(){e.isWatchNow||s(!0)},children:e.isWatchNow?e.anotherUserStatus:e.mainStatus?e.mainStatus:"-----"})}),n&&Object(de.jsx)("div",{children:Object(de.jsx)("input",{value:c,autoFocus:!0,onBlur:function(){e.isWatchNow||(s(!1),e.setUserProfileStatus(c))},onChange:function(e){i(e.currentTarget.value)},type:"text"})})]})})),Rt=function(e){return Object(de.jsxs)("div",{className:Bt.a.content,children:[Object(de.jsx)("div",{className:Bt.a.name,children:e.name}),Object(de.jsx)("div",{className:Bt.a.status,children:Object(de.jsx)(Et,{id:e.id})}),Object(de.jsxs)("div",{className:Bt.a.info,children:[Object(de.jsxs)("div",{className:Bt.a.dateB,children:["Date of Birth: ",e.birthdate]}),Object(de.jsxs)("div",{className:Bt.a.city,children:["City: ",e.city]}),Object(de.jsxs)("div",{className:Bt.a.education,children:["Education: ",e.education]}),Object(de.jsxs)("div",{className:Bt.a.webSite,children:["Web Site: ",e.webSite]})]})]})},Wt=a(144),Ht=a.n(Wt),Gt=function(e){return Object(de.jsx)("img",{src:e.avatarUrl,alt:"",className:Ht.a.avatar})},Vt=function(e){console.log(e);var t,a=ne.a.createRef(),n=ne.a.createRef(),s=ne.a.createRef(),r=ne.a.createRef();t=e.isWatchNow?"":e.avatarUrlData.map((function(e){return Object(de.jsx)(Gt,{avatarUrl:e.url})}));var o,c;return o=e.isWatchNow?"":e.userInfoDate.map((function(t){return Object(de.jsx)(Rt,{name:t.name,status:e.status,birthdate:t.birthdate,city:t.city,userId:e.userId,education:t.education,webSite:t.webSite})})),c=e.isWatchNow?e.anothersUserInfo.map((function(e){return Object(de.jsx)(Rt,{name:e.fullName,id:e.id})})):"",Object(de.jsxs)("div",{className:Tt.a.content,children:[Object(de.jsxs)("div",{className:Tt.a.avatarBox,children:[Object(de.jsx)("div",{className:Tt.a.avatar,onClick:function(){e.isWatchNow||(e.changeAvatar(),"1"===a.current.style.opacity?a.current.style.opacity="0":a.current.style.opacity="1")},children:Object(de.jsx)("img",{ref:n,src:e.mainAvatar,alt:""})}),Object(de.jsxs)("div",{className:Tt.a.changeAvatarBox,ref:a,children:[Object(de.jsx)("div",{className:Tt.a.allAvatar,ref:r,children:t}),Object(de.jsx)("input",{type:"text",placeholder:"New avatar url...",className:Tt.a.urlInput,ref:s}),Object(de.jsx)("button",{className:Tt.a.prevBtn,onClick:function(){e.isWatchNow||e.prevAvatar(n.current.attributes.src.nodeValue)},children:"prev"}),Object(de.jsx)("button",{className:Tt.a.nextBtn,onClick:function(){e.isWatchNow||e.nextAvatar(n.current.attributes.src.nodeValue)},children:"next"}),Object(de.jsx)("button",{className:Tt.a.addBtn,onClick:function(){e.isWatchNow||(e.addAvatar(s.current.value),s.current.value="")},children:"add"})]})]}),e.isWatchNow?c:o]})},zt=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.userId?this.props.getUserProfileStatus(this.props.match.params.userId):this.props.getUserProfileStatus(this.props.mainUserId)}},{key:"render",value:function(){return Object(de.jsx)(Vt,{isWatchNow:this.props.isWatchNow,mainAvatar:this.props.mainAvatar,anothersUserInfo:this.props.anothersUserInfo,avatarUrlData:this.props.avatarUrlData,userId:this.props.userId,status:this.props.status,userInfoDate:this.props.userInfoDate})}}]),a}(ne.a.Component),qt=Object(s.d)(Object(Oe.b)((function(e){return e.Profile.anothersUserInfo[0].isWatchNow?{isWatchNow:bt(e),mainAvatar:ft(e),anothersUserInfo:ht(e)}:{mainAvatar:gt(e),mainUserId:jt(e),isWatchNow:bt(e),avatarUrlData:Ot(e),userId:mt(e),status:pt(e),userInfoDate:xt(e)}}),(function(e){return{addAvatar:function(t){e(function(e){return{type:g,avatarUrl:e}}(t))},changeAvatar:function(){var t;e({type:"CHANGE-AVATAR",avatarUrl:t})},nextAvatar:function(t){e({type:f,avatarUrl:t})},prevAvatar:function(t){e({type:h,avatarUrl:t})},getUserProfileStatus:N}})),be.f)(zt),Kt=function(e){return Object(de.jsxs)("div",{className:Ct.a.content,children:[Object(de.jsx)(Qe,{}),Object(de.jsx)(qt,{}),Object(de.jsx)(At,{})]})},Qt=function(e){return{isAuth:e.auth.isAuth,isLoading:e.Users.isLoading,anotherUserId:e.auth.anotherUserId}},Zt=function(e){var t=function(t){Object(ce.a)(n,t);var a=Object(ie.a)(n);function n(){return Object(re.a)(this,n),a.apply(this,arguments)}return Object(oe.a)(n,[{key:"render",value:function(){return!this.props.isAuth&&null==this.props.anotherUserId||!this.props.isAuth&&"Dialogs"==e?Object(de.jsx)(be.a,{to:"/login"}):Object(de.jsxs)(de.Fragment,{children:[this.props.isLoading?Object(de.jsx)(ze,{}):"",Object(de.jsx)(e,Object(c.a)({},this.props))]})}}]),n}(ne.a.Component);return Object(Oe.b)(Qt,{})(t)},Xt=Object(s.d)(Object(Oe.b)((function(e){return{dialogItemData:_t(e).map((function(e){return Object(de.jsx)(ke,{name:e.name,id:e.id})})),MessagesFieldData:Ut(e).map((function(e){return Object(de.jsx)(We,{message:e.message,img:e.avatar})}))}})),Zt)(Te),Jt=a(48),Yt=a(10),$t=a.n(Yt),ea=a.p+"static/media/profile-02-512.8bda664b.png",ta=function(e){var t;return Object(de.jsxs)("div",{className:$t.a.UsersPage,children:[Object(de.jsx)("div",{className:$t.a.title,children:"Users"}),Object(de.jsx)("div",{className:$t.a.UsersField,children:Object(de.jsx)("div",{className:$t.a.UsersField,children:e.usersData.map((function(t){return Object(de.jsxs)("div",{className:$t.a.item,children:[Object(de.jsx)("div",{className:$t.a.avatar,children:Object(de.jsx)(se.b,{onClick:function(){e.setAnotherUserIdSucsess(t.id)},to:"/profile/".concat(t.id),children:Object(de.jsx)("img",{src:null!=t.photos.small?t.photos.small:ea,alt:""})})}),Object(de.jsx)("div",{className:$t.a.ToogleFollowbox,children:Object(de.jsx)("button",{disabled:e.usersInProgressFollowing.some((function(e){return e==t.id})),className:t.followed?"".concat($t.a.ToogleFollowBtn+" "+$t.a.follow):"".concat($t.a.ToogleFollowBtn+" "+$t.a.unfollow),onClick:function(a){e.toogleFollowStatus(t)},children:t.followed?Object(de.jsx)("span",{children:"Unfollow"}):Object(de.jsx)("span",{children:"Follow"})})}),Object(de.jsxs)("div",{className:$t.a.userInfo,children:[Object(de.jsx)("div",{className:$t.a.fullname,children:t.name}),Object(de.jsx)("div",{className:$t.a.status,children:"el.status"}),Object(de.jsx)("div",{className:$t.a.country,children:"el.country"}),Object(de.jsx)("div",{className:$t.a.city,children:"el.city"})]})]})}))})}),Object(de.jsxs)("div",{className:$t.a.paginnatorBox,children:[Object(de.jsxs)("div",{className:$t.a.goLeftPage,children:[(e.currentPage,Object(de.jsx)("button",{disabled:e.isLoading,className:$t.a.MaxToLeft,onClick:function(){e.setCurrentPage(1),e.getUsers()},children:Object(de.jsx)("span",{})})),1===e.currentPage?Object(de.jsx)("button",{disabled:e.isLoading,className:$t.a.OneToLeft,onClick:function(){e.currentPage>1&&(e.setCurrentPage(e.currentPage-1),e.getUsers())}}):Object(de.jsx)("button",{className:$t.a.OneToLeft,disabled:e.isLoading,onClick:function(){e.currentPage>1&&(e.setCurrentPage(e.currentPage-1),e.getUsers())}})]}),Object(de.jsxs)("div",{className:$t.a.pagesBox,children:[Object(de.jsx)("span",{children:e.currentPage}),Object(de.jsx)("span",{children:". . ."}),Object(de.jsx)("span",{children:e.numberOfPages})]}),Object(de.jsxs)("div",{className:$t.a.goRigthPage,children:[e.currentPage===e.numberOfPages?Object(de.jsx)("button",{disabled:e.isLoading,className:$t.a.OneToRigth,onClick:function(){e.currentPage<e.numberOfPages&&(e.setCurrentPage(e.currentPage+1),e.getUsers())}}):Object(de.jsx)("button",{className:$t.a.OneToRigth,disabled:e.isLoading,onClick:function(){e.currentPage<e.numberOfPages&&(e.setCurrentPage(e.currentPage+1),e.getUsers())}}),e.currentPage===e.numberOfPages?Object(de.jsx)("button",(t={disabled:!0,className:$t.a.MaxToRigth},Object(Jt.a)(t,"disabled",e.isLoading),Object(Jt.a)(t,"onClick",(function(){e.setCurrentPage(e.numberOfPages),e.getUsers()})),Object(Jt.a)(t,"children",Object(de.jsx)("span",{})),t)):Object(de.jsx)("button",{className:$t.a.MaxToRigth,disabled:e.isLoading,onClick:function(){e.setCurrentPage(e.numberOfPages),e.getUsers()},children:Object(de.jsx)("span",{})})]})]})]})},aa=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){var e;Object(re.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).getUsers=function(){setTimeout((function(){e.props.getUsers(e.props.numberOfUsersOnPage,e.props.currentPage)}),100)},e.render=function(){return Object(de.jsxs)(de.Fragment,{children:[e.props.isLoading?Object(de.jsx)(ze,{}):"",Object(de.jsx)(ta,{getUsers:e.getUsers,usersData:e.props.usersData,setCurrentPage:e.props.setCurrentPage,currentPage:e.props.currentPage,numberOfPages:e.props.numberOfPages,toogleFollowStatus:e.props.toogleFollowStatus,isLoading:e.props.isLoading,usersInProgressFollowing:e.props.usersInProgressFollowing,setAnotherUserIdSucsess:e.props.setAnotherUserIdSucsess})]})},e}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.numberOfUsersOnPage,this.props.currentPage)}}]),a}(ne.a.Component),na=Object(Oe.b)((function(e){return{usersData:e.Users.usersData,numberOfPages:Math.ceil(Nt(e)/It(e)),numberOfUsersOnPage:It(e),currentPage:wt(e),totalUsersCount:Nt(e),isLoading:Pt(e),isAuth:lt(e),isFollowingInProgress:Dt(e),usersInProgressFollowing:yt(e)}}),{toogleFollowingInProgressUser:k,setCurrentPage:function(e){return{type:F,currentPage:e}},getUsers:function(e,t){return function(a){a(B(!0)),l.getUsers(e,t).then((function(e){var t,n;a((t=e.items,{type:S,users:t})),a((n=e.totalCount,{type:A,count:n})),a(B(!1))}))}},toogleFollowStatus:function(e){return function(t){t(k(!0,e.id)),e.followed?j.unfollowUser(e.id).then((function(a){var n;t((n=e.id,{type:y,userId:n,user:e})),t(k(!1,e.id)),l.getFollowingUsers().then((function(e){console.log(e),t(E(e.items))}))})):j.followUser(e.id).then((function(a){var n;t((n=e.id,{type:D,userId:n,user:e})),t(k(!1,e.id)),l.getFollowingUsers().then((function(e){console.log(e),t(E(e.items))}))}))}},setUserData:R,setAnotherUserIdSucsess:function(e){return{type:G,userId:e}}})(aa),sa=a(20),ra=a.n(sa),oa=a(77),ca=a.n(oa),ia=a(78),ua=a.n(ia),la=function(e){return Object(de.jsxs)("div",{className:ua.a.Item,children:[Object(de.jsx)("div",{className:ua.a.avatar,children:Object(de.jsx)("img",{src:e.avatar,alt:""})}),Object(de.jsx)("div",{className:ua.a.name,children:e.name})]})},da=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){var e;Object(re.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={friendTrueData:e.props.followingUsersData.map((function(e){return Object(de.jsx)(la,{avatar:e.photos.small,name:e.name})}))},e}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.props.setUserData()}},{key:"componentDidUpdate",value:function(e,t,a){e.followingUsersData.length!==this.props.followingUsersData.length&&this.setState({friendTrueData:this.props.followingUsersData.map((function(e){return Object(de.jsx)(la,{avatar:e.photos.small,name:e.name})}))})}},{key:"render",value:function(){return Object(de.jsxs)("div",{className:ca.a.content,children:[Object(de.jsx)("div",{className:ca.a.label,children:"Friends"}),Object(de.jsx)("div",{className:ca.a.Box,children:this.state.friendTrueData})]})}}]),a}(ne.a.Component),ja=Object(Oe.b)((function(e){return{followingUsersData:e.Users.followingUsersData,usersData:e.Users.usersData}}),{setUserData:R})(da),ba=function(e){return Object(de.jsxs)("nav",{className:ra.a.nav,children:[Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/profile",children:"Profile"})}),Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/dialogs",children:"Messages"})}),Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/feed",children:"News"})}),Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/music",children:"Music"})}),Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/setting",children:"Settings"})}),Object(de.jsx)(ja,{}),Object(de.jsx)("div",{className:ra.a.box,children:Object(de.jsx)(se.b,{activeClassName:ra.a.active,to:"/users",children:"Find users"})})]})},fa=Object(Oe.b)((function(e){return{}}),(function(e){return{}}))(ba),ha=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.userId&&this.props.setUserProfile(this.props.match.params.userId,this.props.toogleIsLoading)}},{key:"render",value:function(){return Object(de.jsx)(Kt,{})}}]),a}(ne.a.Component),ga=Object(s.d)(Object(Oe.b)((function(e){return{mainUserId:jt(e)}}),{toogleIsLoading:B,setUserProfile:function(e,t){return function(a){e?(a(_(!0)),a(t(!0)),d.getUserProfile(e).then((function(n){d.getUserProfileStatus(e).then((function(e){var s;a((s=Object(c.a)(Object(c.a)({},n),{},{status:e}),{type:m,anothersUserInfo:s})),a(t(!1))}))}))):a(_(!1))}},getUserProfileStatus:N}),be.f,Zt)(ha),Oa=a(40),ma=a.n(Oa),pa=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(oe.a)(a,[{key:"render",value:function(){var e=this;return this.props.isAuth?Object(de.jsxs)("header",{className:ma.a.header,children:[Object(de.jsx)("div",{className:ma.a.img,children:Object(de.jsx)("img",{src:"",alt:""})}),Object(de.jsx)("div",{className:ma.a.loginBtn,children:this.props.isAuth?Object(de.jsxs)("span",{children:[this.props.login,Object(de.jsx)(se.b,{to:"/login",onClick:function(){return e.props.logOut()},children:"Log Out"})]}):Object(de.jsx)(se.b,{to:"/login",children:"Login"})})]}):Object(de.jsxs)("header",{className:ma.a.header,children:[Object(de.jsx)("div",{className:ma.a.img,children:Object(de.jsx)("img",{src:"",alt:""})}),Object(de.jsx)("div",{className:ma.a.loginBtn,children:this.props.isAuth?Object(de.jsx)("span",{children:this.props.login}):Object(de.jsx)(se.b,{to:"/login",children:"Login"})})]})}}]),a}(ne.a.Component),xa=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth}}),{logOut:function(){return function(e){u.logOut().then((function(t){0===t.data.resultCode&&e(z(null,null,null,!1))}))}}})(pa),va=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(oe.a)(a,[{key:"render",value:function(){return Object(de.jsx)(xa,Object(c.a)({},this.props))}}]),a}(ne.a.Component),_a=Object(s.d)(Object(Oe.b)((function(e){return{isAuth:lt(e),login:dt(e)}}),{setAuthUserData:q}))(va),Ua=Object(Ue.a)({form:"Login"})((function(e){return Object(de.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(de.jsx)("div",{children:Object(de.jsx)(_e.a,{type:"text",name:"login",validate:[Se],component:De,placeholder:"login"})}),Object(de.jsx)("div",{children:Object(de.jsx)(_e.a,{type:"text",name:"password",validate:[Se],component:De,placeholder:"password"})}),Object(de.jsxs)("div",{children:[Object(de.jsx)(_e.a,{type:"checkbox",name:"rememberMe",component:De}),"remember me"]}),e.error&&Object(de.jsx)("div",{className:we.a.allFormError,children:e.error}),Object(de.jsx)("div",{children:Object(de.jsx)("button",{type:"submit",placeholder:"login",children:"log in"})})]})})),Na=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){var e;Object(re.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onSubmit=function(t){e.props.logIn(t.login,t.password)},e}return Object(oe.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(de.jsx)(be.a,{to:"/profile"}):Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{children:Object(de.jsx)("h1",{children:"Login"})}),Object(de.jsx)(Ua,{onSubmit:this.onSubmit})]})}}]),a}(ne.a.Component),Ia=Object(Oe.b)((function(e){return{isAuth:e.auth.isAuth}}),{setAuthUserData:q,logIn:function(e,t){return function(a){u.logIn(e,t).then((function(e){0===e.data.resultCode?a(q()):a(Object(W.a)("Login",{_error:e.data.messages}))}))}}})(Na),wa=function(e){Object(ce.a)(a,e);var t=Object(ie.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.props.setInitialized()}},{key:"render",value:function(){return this.props.initialized?Object(de.jsxs)("div",{className:"appWrapper",children:[Object(de.jsx)(_a,{}),Object(de.jsx)(fa,{}),Object(de.jsxs)("div",{className:"appWrapperContent",children:[Object(de.jsx)(be.b,{path:"/profile/:userId?",render:function(){return Object(de.jsx)(ga,{})}}),Object(de.jsx)(be.b,{path:"/dialogs",render:function(){return Object(de.jsx)(Xt,{})}}),Object(de.jsx)(be.b,{path:"/users",render:function(){return Object(de.jsx)(na,{})}}),Object(de.jsx)(be.b,{path:"/feed",render:function(){return Object(de.jsx)(fe,{})}}),Object(de.jsx)(be.b,{path:"/music",render:function(){return Object(de.jsx)(he,{})}}),Object(de.jsx)(be.b,{path:"/setting",render:function(){return Object(de.jsx)(ge,{})}}),Object(de.jsx)(be.b,{path:"/login",render:function(){return Object(de.jsx)(Ia,{})}})]}),Object(de.jsx)(je,{})]}):Object(de.jsx)(ze,{})}}]),a}(ae.Component),Pa=Object(s.d)(be.f,Object(Oe.b)((function(e){return{initialized:ut(e)}}),{setInitialized:function(){return function(e){var t=e(q());Promise.all([t]).then((function(t){e({type:Z})}))}}}))(wa);te.a.render(Object(de.jsx)(ne.a.StrictMode,{children:Object(de.jsx)(se.a,{children:Object(de.jsx)(Oe.a,{store:$,children:Object(de.jsx)(Pa,{})})})}),document.getElementById("root")),n()},30:function(e,t,a){e.exports={content:"UserProfile_content__1_Z_e",avatarBox:"UserProfile_avatarBox__1M4MC",avatar:"UserProfile_avatar__1FS2Y",changeAvatarBox:"UserProfile_changeAvatarBox__2Yg5J",addBtn:"UserProfile_addBtn__2qHha",urlInput:"UserProfile_urlInput__1krly",nextBtn:"UserProfile_nextBtn__23jl3",prevBtn:"UserProfile_prevBtn__1CCsA",allAvatar:"UserProfile_allAvatar__2AB5c"}},39:function(e,t,a){e.exports={textFieldBox:"FormControl_textFieldBox__2wMZs",error:"FormControl_error__3p1eB",allFormError:"FormControl_allFormError__2F4OJ"}},40:function(e,t,a){e.exports={header:"Header_header__2GV9z",img:"Header_img__PGeZA",loginBtn:"Header_loginBtn__eSg7e"}},49:function(e,t,a){e.exports={form:"NewPosts_form__ANX6U",textField:"NewPosts_textField__1icaL",textarea:"NewPosts_textarea__1Fup_",textFieldLabel:"NewPosts_textFieldLabel__33bpr",sendBtn:"NewPosts_sendBtn__ZBTfK"}},59:function(e,t,a){e.exports={content:"Footer_content__3R8dh",name:"Footer_name__1LXc2",copyright:"Footer_copyright__3LvbW",pet:"Footer_pet__Eh2RT"}},60:function(e,t,a){e.exports={item:"DialogItem_item__HhA03",avatar:"DialogItem_avatar__W4fCM",name:"DialogItem_name__13EzV",status:"DialogItem_status__2TOHc",active:"DialogItem_active__1IHHq"}},61:function(e,t,a){e.exports={content:"MessagesItem_content__1bvUB",messageItem:"MessagesItem_messageItem__2tPpV",avatar:"MessagesItem_avatar__3VV2T",message:"MessagesItem_message__3IE_i"}},73:function(e,t,a){e.exports={content:"Dialogs_content__3sUxn",dialogsItem:"Dialogs_dialogsItem__32i-A",MessagesField:"Dialogs_MessagesField__2xsLM"}},74:function(e,t,a){e.exports={newMessage:"NewMessage_newMessage__3Ud_t",textField:"NewMessage_textField__24Apc",sendNewMessage:"NewMessage_sendNewMessage__1aLE2"}},76:function(e,t,a){e.exports={item:"post_item__1oE4U",avatar:"post_avatar__5EviO",text:"post_text__2bpw9"}},77:function(e,t,a){e.exports={content:"Friends_content__3wfKO",label:"Friends_label__2zmbi",Box:"Friends_Box__22bQX"}},78:function(e,t,a){e.exports={Item:"Frienditem_Item__1ZcNT",avatar:"Frienditem_avatar__3UC51",name:"Frienditem_name__14Jtt"}}},[[296,1,2]]]);
//# sourceMappingURL=main.02cd7e23.chunk.js.map